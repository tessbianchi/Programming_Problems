
import java.io.*;
import java.util.*;
import java.text.*;
import java.math.*;
import java.util.regex.*;

public class contiguousSubArray{
	ArrayList<Integer> array = new ArrayList<Integer>();
	ArrayList<Integer> myArray = new ArrayList<Integer>();

	public boolean isAllPositive(){
		for(int i = 0; i != array.length; ++i){
			if(array.get(i) < 0){
				return false;
			}
		}
		return true;
	}

	public int addAllElements(){
		int sum = 0;
		for(int i = 0; i != array.length; ++i){
			sum += array.get(i);
		}
	};
}



public static void main(String[] args){
	Scanner s = new Scanner(System.in);
	int numTestCases = s.nextInt();

	for(int i = 0; i != numTestCases; ++i){
		int numberOfNodes = s.nextInt();
		int numberOfEdges= s.nextInt();
		Graph g = new Graph(numberOfNodes);
		ArrayList<Integer> a = new ArrayList<Integer>();
		for(int j = 0; j != numberOfEdges; ++j){
			int x = s.nextInt();
			int y= s.nextInt();
			g.addEdge(x,y);
			a.add(x);
			a.add(y);
		}
		int start = s.nextInt();
		g.addStart(start);
		startProblem(g);
		System.out.println();
	}
}
	
